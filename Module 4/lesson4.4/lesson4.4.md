# Задание 1.
Узел А отправил узлу В SYN-запрос.

Какова длина сегмента?

*Приведите ответ в свободной форме.*  

# Ответ:  
Длина сегмента при установке соединения - 0

---

# Задание 2.
Узел А инициировал соединение с узлом В.
Через некоторое время узел А получил SYN, ACK.
В каком TCP состоянии будет узел А после получения такого ответа?

*Приведите ответ в свободной форме.*  

# Ответ:  
Узел А будет в состоянии **SYN-SENT**, т.к в **ESTABLISHED** он перейдет только после
отправки ACK.  

---

# Задание 3.
* Может ли во флагах TCP одновременно быть установлены флаги SYN и FIN при штатном режиме работы сети?
* Почему да или нет?  

*Приведите ответ в свободной форме.*

# Ответ:  
В нормальном режиме работы одновременно флагов **SYN** и **FIN** быть не может,
т.к SYN - используется при установке tcp соединения, FIN - при завершении.

---

# Задание 4.
`ss -ula sport = :53` на хосте имеет следующий вывод:

`State           Recv-Q          Send-Q                   Local Address:Port                     Peer Address:Port          Process`  
`UNCONN          0               0                        127.0.0.53%lo:domain                        0.0.0.0:*`  

1. Почему в State присутствует только UNCONN?
2. Может ли там присутствовать TIME-WAIT?  

*Приведите ответ в свободной форме.* 

# Ответ:  
1. Потому, что UDP - это протокол без установки соединения и в поле STATE можно увидеть 
либо UNCONN, либо ESTAB
2. Да, при TCP соединении можно в поле STATE увидеть **TIME-WAIT**
---

# Задание 5.
1. Может ли сложиться ситуация, при которой большое число соединений TCP на хосте находятся в состоянии TIME-WAIT ?
2. Если да, то является ли она хорошей или плохой?
Подкрепите свой ответ пояснением той или иной оценки.

*Приведите ответ в свободной форме.*

# Ответ:
1. Да, такая ситуации может сложиться.
2. Ситуация не хорошая, т.к под каждое соединение выделяется свой порт, а состояние **TIME-WAIT**
наступает при завершении соединения, таким образом порт остается в заблокировнном состоянии.
И при большом количестве соединений может вызывать значительное потребление ресурсов,
а если запросы идут к одному сервису, то могут закончится порты.  

---

# Задание 6.
Если бы вы строили систему удаленного сбора логов, какой протокол транспортного уровня вы выбрали бы и почему?

*Примечение:*

* Система удаленного сбора логов - система, в которой несколько хостов отправяют на центральный узел генерируемые приложениями логи. Предположим, что логи – текстовая информация.
* Проверьте ваше предположение самостоятельно, узнав о стандартном протоколе syslog.

*Приведите ответ в свободной форме.*

# Ответ:
1. Выбор протокола TCP или UPD зависит от надежности и быстроты сети.
Т.о если сеть надежная я бы выбрал UPD из-за скорости работы и создания меньшей нагрузки, если сеть 
ненадежная, тогда выбор был бы TCP - т.к он обеспечевает гарантированную достаку данных.  
2. Протокол **syslog** может работыть как по TCP, так и по UDP  
---

# Задание 7.
1. Сколько портов TCP находится в состоянии прослушивания на вашей машине (физической или виртуальной)?
2. Каким процессам они принадлежат?
3. Какой командой вы это узнавали?
*Приведите ответ в свободной форме.*  

# Ответ:
Можно воспользовать командами `netstat -tnlp`, `ss -tlnp`, либо `lsof -nP -iTCP -sTCP:LISTEN`

